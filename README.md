# ChessGame

ChessGame — это консольное приложение на Java, реализующее шахматную игру. Проект позволяет двум игрокам (белым и чёрным) совершать ходы, выполнять специальные действия, такие как рокировка и превращение пешки в ферзя, а также отслеживать состояния шаха и мата. Игра управляется через текстовые команды, а состояние шахматной доски отображается в консоли.

## Основные возможности

- **Шахматная доска**: Реализация 8x8 доски с корректным размещением всех фигур в начальной позиции.
- **Фигуры**: Поддержка всех типов шахматных фигур (пешка, ладья, конь, слон, ферзь, король) с их уникальными правилами передвижения.
- **Ходы и взятия**:
  - Корректная проверка возможности хода каждой фигуры (включая запрет на прохождение через другие фигуры, кроме коня).
  - Взятие вражеских фигур с сохранением списка захваченных фигур.
- **Специальные правила**:
  - Превращение пешки в ферзя при достижении последней горизонтали.
  - Рокировка (короткая и длинная) с учётом всех шахматных ограничений.
- **Шах и мат**: Автоматическое определение шаха и мата с уведомлениями в консоли.
- **Интерфейс**:
  - Отображение текущего состояния доски и захваченных фигур.
  - Управление игрой через текстовые команды.
- **Перезапуск и выход**: Возможность начать новую игру или завершить программу.

## Технологии

- **Язык программирования**: Java (JDK 11+).
- **Архитектура**: Объектно-ориентированная, с разделением на классы для доски, фигур и управления игрой.
- **Зависимости**: Не используются внешние библиотеки, только стандартная библиотека Java.

## Структура проекта

```
ChessGame/
├── src/
│   ├── chess/
│   │   ├── board/
│   │   │   └── ChessBoard.java      # Класс шахматной доски и логики ходов
│   │   ├── pieces/
│   │   │   ├── ChessPiece.java      # Абстрактный базовый класс для фигур
│   │   │   ├── Pawn.java            # Пешка
│   │   │   ├── Rook.java            # Ладья
│   │   │   ├── Horse.java           # Конь
│   │   │   ├── Bishop.java          # Слон
│   │   │   ├── Queen.java           # Ферзь
│   │   │   ├── King.java            # Король
│   │   ├── game/
│   │   │   └── GameManager.java     # Управление игрой и консольный интерфейс
```

### Основные компоненты

- **ChessBoard**: Управляет состоянием доски, выполнением ходов, рокировкой, проверкой шаха и мата.
- **ChessPiece**: Абстрактный класс, определяющий общую логику для всех фигур (проверка границ, пути, взятий).
- **Конкретные фигуры** (`Pawn`, `Rook`, `Horse`, `Bishop`, `Queen`, `King`): Реализуют правила передвижения и символы для отображения.
- **GameManager**: Точка входа, инициализирует доску и обрабатывает команды пользователя.

## Установка

1. **Требования**:
   - JDK 11 или выше.
   - Среда разработки (например, IntelliJ IDEA) или терминал для компиляции и запуска.
   - Git для клонирования репозитория (опционально).

2. **Клонирование репозитория**:
   ```bash
   git clone <repository-url>
   cd ChessGame
   ```

3. **Компиляция**:
   Если используете терминал:
   ```bash
   javac src/chess/game/GameManager.java
   ```

4. **Запуск**:
   ```bash
   java -cp src chess.game.GameManager
   ```

   В среде разработки просто запустите `GameManager.java` как основную программу.

## Использование

1. **Запуск**:
   После запуска приложение отобразит инструкции и начальное состояние доски:
   ```
   Чтобы проверить игру надо вводить такие команды:
   'exit' - для выхода
   'replay' - для перезапуска игры
   'castling0' или 'castling7' - для рокировки по соответствующей линии
   'move 1 1 2 3' - для передвижения фигуры с позиции 1 1 на позицию 2 3
   (поле это двухмерный массив от 0 до 7)
   ```

2. **Команды**:
   - **Перемещение фигуры**: `move <строка> <столбец> <целевая строка> <целевой столбец>` (например, `move 1 4 2 4` для хода пешкой).
   - **Рокировка**:
     - `castling0` — короткая рокировка (король перемещается на два поля к ладье на 0-й или 7-й горизонтали).
     - `castling7` — длинная рокировка.
   - **Перезапуск**: `replay` — сброс доски до начального состояния.
   - **Выход**: `exit` — завершение игры.

3. **Пример игры**:
   - Введите `move 1 4 2 4` для хода белой пешкой.
   - Введите `move 6 4 5 4` для ответа чёрных.
   - Для рокировки (если условия выполнены): `castling0`.
   - Доска обновляется после каждого хода, показывая захваченные фигуры и уведомления о шахе/мате.

## Ограничения и возможные улучшения

### Ограничения
- **Консольный интерфейс**: Текстовый ввод может быть неудобным, особенно для новичков.
- **Отсутствие проверки патовой ситуации**: Игра не определяет ничью (пат или повторение ходов).
- **Нет сохранения игры**: Нет возможности сохранять или загружать партии.
- **Отсутствие тестов**: Код не покрыт юнит-тестами, что затрудняет проверку корректности.
- **Ограниченная валидация**: Ввод некорректных команд может привести к ошибкам без подробных подсказок.

### Рекомендации по улучшению
1. **Графический интерфейс**: Добавить GUI с использованием JavaFX или Swing для визуального отображения доски.
2. **Сохранение партий**: Реализовать сохранение и загрузку игр в файл (например, в формате PGN).
3. **Пат и ничья**: Добавить логику для определения патовой ситуации и других ничейных исходов.
4. **Тестирование**: Написать юнит-тесты с использованием JUnit для проверки логики ходов и особых ситуаций.
5. **Улучшенный ввод**: Добавить парсер для шахматной нотации (например, `e2-e4` вместо `move 1 4 2 4`).
6. **Компьютерный противник**: Внедрить простой ИИ для игры против компьютера.
7. **Логирование**: Добавить логирование ходов и ошибок для отладки.

## Лицензия

Проект распространяется под лицензией MIT. См. файл `LICENSE` (если добавлен) для подробностей.

## Контакты

Для вопросов и предложений:
- Автор: Не указан
- Email: <your-email@example.com>
- GitHub: <your-github-profile>
